{% extends 'hoja_vida/base.html' %}
{% load static %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'hoja_vida/css/home.css' %}">
{% endblock %}

{% block content %}
    {% if perfil %}
        <div class="header-card">
            <div class="photo-placeholder">
                {% if perfil.foto %}
                    <img src="{{ perfil.foto.url }}" alt="Foto de perfil">
                {% else %}
                {% endif %}
            </div>
            <div class="header-info">
                <p class="id-role">Estudiante, Ingeniería de Software</p>
                <h1 class="id-name">{{ perfil.nombres }} {{ perfil.apellidos }}</h1>
                <div style="margin-top: 30px;">
                    <span class="label-style">{{ lbl.descripcion }}</span>
                    <div class="profile-description">
                        {% if perfil.descripcion_perfil %}
                            {{ perfil.descripcion_perfil }}
                        {% else %}
                            <span style="color: #999;">...</span>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        <div class="bottom-layout">
            <aside class="left-data">
                <h3 style="margin-bottom: 30px; font-size: 1.4rem; color: var(--accent-color);">
                    {{ lbl.info_personal|upper }}
                </h3>
                <ul class="contact-list">
                    {% for item in datos_dinamicos %}
                        <li class="contact-item">
                            <span class="label-style">{{ item.label }}</span>
                            {% if item.es_link %}
                                <a href="{{ item.valor }}" target="_blank" class="data-link">
                                    Enlace ↗
                                </a>
                            {% else %}
                                <span class="contact-value">{{ item.valor }}</span>
                            {% endif %}
                        </li>
                    {% endfor %}
                </ul>
            </aside>
            <nav class="nav-menu">
                {% if menu_hay_experiencia %}
                <a href="{% url 'experiencia' %}" class="nav-btn">
                    <span class="label-style">{{ btn.experiencia|default:"Experiencia" }}</span>
                </a>
                {% endif %}

                {% if menu_hay_reconocimientos %}
                <a href="{% url 'reconocimientos' %}" class="nav-btn">
                    <span class="label-style">{{ btn.reconocimientos|default:"Acreditaciones" }}</span>
                </a>
                {% endif %}

                {% if menu_hay_cursos %}
                <a href="{% url 'cursos' %}" class="nav-btn">
                    <span class="label-style">{{ btn.cursos|default:"Formación" }}</span>
                </a>
                {% endif %}

                {% if menu_hay_proyectos %}
                <a href="{% url 'productos' %}" class="nav-btn">
                    <span class="label-style">
                        {{ btn.prod_academico|default:"Prod. Académico" }} / {{ btn.prod_laboral|default:"Laboral" }}
                    </span>
                </a>
                {% endif %}

                {% if menu_hay_ventas %}
                <a href="{% url 'venta_garage' %}" class="nav-btn">
                    <span class="label-style">{{ btn.ventas|default:"Venta Garage" }}</span>
                </a>
                {% endif %}
            </nav>
        </div>
        {% else %}
        <div class="container" style="text-align: center; padding: 150px 20px;">
            <h1 style="color: var(--accent-color); font-size: 1.5rem; font-weight: 700; text-transform: uppercase; margin-bottom: 0;">
                No existe ningún perfil activo
            </h1>
            <p style="color: #000; font-weight: 500; font-size: 1.1rem; line-height: 1.6;margin-top: 0;">
                No se encontró información.<br>
                Por favor, verifique el panel de administración.
            </p>
        </div>
    {% endif %}
{% endblock %}